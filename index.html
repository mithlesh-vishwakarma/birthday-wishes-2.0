<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Birthday My Everything âœ¨</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: "Patrick Hand", "Segoe UI", Tahoma, Geneva, Verdana,
          sans-serif;
        min-height: 100vh;
        overflow-x: hidden;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
        padding: 20px;
        color: #f3e8ff;
        background: #0a0a0f;
      }

      /* === BACKGROUND IMAGES === */
      .background-images {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -3;
        overflow: hidden;
      }

      .background-images img {
        position: absolute;
        width: 100%;
        height: 100%;
        object-fit: cover;
        opacity: 0;
        transition: opacity 2s ease-in-out;
        filter: blur(2px) brightness(1.2) saturate(1.3);
      }

      .background-images img.active {
        opacity: 1;
      }

      /* Optional dark overlay to keep text readable */
      body::before {
        content: "";
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.55);
        z-index: -2;
      }

      /* === PARTICLES & FLOAT ANIMATIONS === */
      .bg-particles {
        position: absolute;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: 0;
        pointer-events: none;
      }

      .particle {
        position: absolute;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.3) 0%,
          transparent 70%
        );
        border-radius: 50%;
        animation: float 20s infinite ease-in-out;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0) translateX(0);
          opacity: 0.3;
        }
        50% {
          transform: translateY(-100px) translateX(50px);
          opacity: 0.6;
        }
      }

      .heart {
        position: absolute;
        font-size: 20px;
        animation: floatHeart 8s infinite ease-in-out;
        opacity: 0;
      }

      @keyframes floatHeart {
        0% {
          transform: translateY(100vh) rotate(0deg);
          opacity: 0;
        }
        10% {
          opacity: 0.8;
        }
        90% {
          opacity: 0.8;
        }
        100% {
          transform: translateY(-100px) rotate(360deg);
          opacity: 0;
        }
      }

      /* === PAGE CONTENT === */
      .container {
        position: relative;
        z-index: 10;
        width: 100%;
        max-width: 1400px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .header {
        text-align: center;
        margin-bottom: 30px;
      }

      .header h1 {
        font-size: clamp(28px, 6vw, 56px);
        font-weight: 700;
        background: linear-gradient(135deg, #a855f7, #ec4899, #f97316);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 0 30px rgba(0, 0, 0, 0.733);
      }

      .subtitle {
        font-size: clamp(14px, 3vw, 20px);
        color: #e9d5ff;
        font-style: italic;
        margin-bottom: 10px;
        text-shadow: 0 0 10px rgba(168, 85, 247, 0.3);
      }

      .message-box {
        background: rgba(20, 10, 30, 0.6);
        border: 2px solid rgba(168, 85, 247, 0.4);
        border-radius: 20px;
        padding: 25px;
        margin-bottom: 20px;
        backdrop-filter: blur(10px);
        box-shadow: 0 8px 32px rgba(168, 85, 247, 0.3);
        max-width: 800px;
        line-height: 1.8;
      }

      #listenBtn {
        padding: 12px 25px;
        border-radius: 50px;
        border: 2px solid rgba(168, 85, 247, 0.6);
        background: linear-gradient(
          135deg,
          rgba(168, 85, 247, 0.3),
          rgba(236, 72, 153, 0.3)
        );
        color: #f3e8ff;
        cursor: pointer;
        font-weight: 600;
        margin-bottom: 30px;
        transition: all 0.3s ease;
      }

      #listenBtn:hover {
        background: linear-gradient(
          135deg,
          rgba(168, 85, 247, 0.5),
          rgba(236, 72, 153, 0.5)
        );
        border-color: rgba(236, 72, 153, 0.8);
      }

      /* === CAROUSEL === */
      .carousel-container {
        position: relative;
        width: 100%;
        height: 500px;
        display: flex;
        align-items: center;
        justify-content: center;
        perspective: 1200px;
        margin-bottom: 40px;
      }

      .carousel {
        position: relative;
        width: 100%;
        height: 100%;
        transform-style: preserve-3d;
        transition: transform 0.5s;
      }

      .carousel-item {
        position: absolute;
        width: clamp(180px, 30vw, 280px);
        height: clamp(240px, 40vw, 380px);
        left: 50%;
        top: 50%;
        transform-style: preserve-3d;
        transition: all 0.5s ease;
      }

      .photo-frame {
        width: 100%;
        height: 100%;
        border-radius: 20px;
        overflow: hidden;
        padding: 8px;
        background: linear-gradient(
          135deg,
          rgba(168, 85, 247, 0.1),
          rgba(236, 72, 153, 0.1)
        );
        border: 2px solid rgba(168, 85, 247, 0.5);
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5),
          0 0 40px rgba(168, 85, 247, 0.3),
          inset 0 0 20px rgba(168, 85, 247, 0.1);
      }

      .photo {
        width: 100%;
        height: 100%;
        object-fit: contain;
        border-radius: 12px;
        background-color: rgba(0, 0, 0, 0.4);
        transition: transform 1.5s ease, opacity 1.5s ease;
      }

      .photo:hover {
        transform: scale(1.05);
        opacity: 0.95;
      }
    </style>
  </head>
  <body>
    <!-- BACKGROUND -->
    <div class="background-images">
      <img src="./assets/renu-bg (1).jpg" class="bg active" />
      <img src="./assets/renu-bg (5).jpg" class="bg" />
      <img src="./assets/renu-bg (3).jpg" class="bg" />
      <img src="./assets/renu-bg (4).jpg" class="bg" />
    </div>

    <!-- PARTICLES -->
    <div class="bg-particles" id="particles"></div>

    <!-- MAIN CONTAINER -->
    <div class="container">
      <div class="header">
        <h1>âœ¨ Happy Birthday Renu !!! âœ¨</h1>
        <p class="subtitle">To the one who means the world to me ðŸ’–ðŸ’œ</p>
      </div>

      <div class="message-box" id="message"></div>
      <button id="listenBtn">ðŸ”Š Listen to my message</button>

      <div class="carousel-container">
        <div class="carousel" id="carousel"></div>
      </div>
    </div>

    <script>
      // === BIRTHDAY MESSAGE ===
      const messageText = ` 
ðŸ’œðŸ’– My dearest sister, my best friend, my heart, my universe ðŸŒŒâœ¨ðŸ’ž.
No words can ever truly express how grateful I am for you. 
Your laughter brightens my world, your kindness inspires me every day, 
and your love fills every moment with magic. 

On your special day, I just want to remind you how much you mean to me. 
You are my strength, my safe place, and my forever favorite person. 

Happy Birthday, my dearest sister, my everything ðŸ’•ðŸ’–ðŸ’œ. 
I love you to the moon ðŸŒ™ and back, to infinity and beyond âœ¨ðŸŒŒðŸ’ž.
`;

      const messageBox = document.getElementById("message");
      messageBox.innerHTML = messageText.replace(/\n/g, "<br>");

      // === SPEECH BUTTON ===
      function removeEmojis(text) {
        return text.replace(
          /([\u2700-\u27BF]|[\uE000-\uF8FF]|[\uD83C-\uDBFF\uDC00-\uDFFF]|\uFE0F)/g,
          ""
        );
      }

      const listenBtn = document.getElementById("listenBtn");
      const fullMessage = messageText.replace(/<br>/g, " ");

      function splitMessage(msg, wordsPerChunk = 250) {
        const words = msg.split(" ");
        const chunks = [];
        for (let i = 0; i < words.length; i += wordsPerChunk) {
          chunks.push(words.slice(i, i + wordsPerChunk).join(" "));
        }
        return chunks;
      }

      listenBtn.addEventListener("click", () => {
        const cleanMessage = removeEmojis(fullMessage);
        const chunks = splitMessage(cleanMessage);
        let index = 0;

        function speakNext() {
          if (index >= chunks.length) return;
          const utterance = new SpeechSynthesisUtterance(chunks[index]);
          utterance.rate = 0.9;
          utterance.pitch = 1;
          utterance.onend = () => {
            index++;
            speakNext();
          };
          window.speechSynthesis.speak(utterance);
        }

        window.speechSynthesis.cancel();
        speakNext();
      });

      // === PARTICLE EFFECTS ===
      const particlesContainer = document.getElementById("particles");
      for (let i = 0; i < 20; i++) {
        const particle = document.createElement("div");
        particle.className = "particle";
        particle.style.width = Math.random() * 80 + 20 + "px";
        particle.style.height = particle.style.width;
        particle.style.left = Math.random() * 100 + "%";
        particle.style.top = Math.random() * 100 + "%";
        particle.style.animationDelay = Math.random() * 10 + "s";
        particlesContainer.appendChild(particle);
      }

      setInterval(() => {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.textContent = ["ðŸ’œ", "ðŸ’•", "ðŸ’–", "ðŸ˜˜", "ðŸ¤—", "ðŸŽ‰", "ðŸ•¯ï¸"][
          Math.floor(Math.random() * 7)
        ];
        heart.style.left = Math.random() * 100 + "%";
        heart.style.animationDuration = Math.random() * 3 + 5 + "s";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 8000);
      }, 500);

      // === CAROUSEL ===
      const carousel = document.getElementById("carousel");
      const totalPhotos = 52;
      let currentRotation = 0;

      const imageUrls = Array.from(
        { length: totalPhotos },
        (_, i) => `./assets/renu (${i + 1}).jpg`
      );

      for (let i = 0; i < totalPhotos; i++) {
        const item = document.createElement("div");
        item.className = "carousel-item";
        item.innerHTML = `
          <div class="photo-frame">
            <img class="photo" src="${imageUrls[i]}" alt="Memory ${i + 1}">
          </div>
        `;
        carousel.appendChild(item);
      }

      function updateCarousel() {
        const items = document.querySelectorAll(".carousel-item");
        const radius = window.innerWidth < 768 ? 300 : 450;
        const angleStep = 360 / totalPhotos;

        items.forEach((item, index) => {
          const angle = ((angleStep * index + currentRotation) * Math.PI) / 180;
          const x = Math.sin(angle) * radius;
          const z = Math.cos(angle) * radius;
          const scale = ((z + radius) / (radius * 2)) * 0.7 + 0.3;
          const opacity = ((z + radius) / (radius * 2)) * 0.7 + 0.3;
          item.style.transform = `translate(-50%, -50%) translate3d(${x}px, 0, ${z}px) scale(${scale})`;
          item.style.opacity = opacity;
          item.style.zIndex = Math.floor(z);
        });
      }

      let rotationSpeed = 0.5;
      setInterval(() => {
        currentRotation += rotationSpeed;
        updateCarousel();
      }, 80);
      updateCarousel();

      // === BACKGROUND FADE TRANSITION ===
      document.addEventListener("DOMContentLoaded", () => {
        const bgImages = document.querySelectorAll(".background-images img");
        let currentBg = 0;

        function changeBackground() {
          bgImages[currentBg].classList.remove("active");
          currentBg = (currentBg + 1) % bgImages.length;
          bgImages[currentBg].classList.add("active");
        }

        setInterval(changeBackground, 10000); // every 10s
      });
    </script>
  </body>
</html>
