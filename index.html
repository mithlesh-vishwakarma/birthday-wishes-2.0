<<<<<<< HEAD
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday My Everything ✨</title>
<style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
   body {
    font-family: 'Patrick Hand', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    padding: 20px;
    color: #f3e8ff;
    background: #0a0a0f;
}

.background-images {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -3;
    overflow: hidden;
    pointer-events: none;
}

.background-images img {
    position: absolute;
    width: 120%;
    height: 120%;
    object-fit: cover;
    opacity: 0.25;
    filter: blur(2px) brightness(1.2) saturate(1.3);
    mix-blend-mode: screen;
    animation: floatBG 40s ease-in-out infinite alternate;
}

.background-images .bg1 { animation-delay: 0s; top: -10%; left: -10%; }
.background-images .bg2 { animation-delay: 5s; top: -5%; left: -15%; }
.background-images .bg3 { animation-delay: 10s; top: 0%; left: -5%; }
.background-images .bg4 { animation-delay: 15s; top: -8%; left: 5%; }

@keyframes floatBG {
    0%   { transform: scale(1) translate(0px, 0px) rotate(0deg); }
    50%  { transform: scale(1.05) translate(40px, -40px) rotate(3deg); }
    100% { transform: scale(1) translate(-40px, 40px) rotate(-3deg); }
}

@keyframes floatBG {
    0% { transform: translateY(0) translateX(0) rotate(0deg);}
    50% { transform: translateY(-50px) translateX(50px) rotate(5deg);}
    100% { transform: translateY(0) translateX(0) rotate(0deg);}
}

    @import url('https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap');

    .bg-particles { position: absolute; width: 100%; height: 100%; overflow: hidden; z-index: 0; pointer-events: none; }
    .particle {
        position: absolute;
        background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
        border-radius: 50%;
        animation: float 20s infinite ease-in-out;
    }
    @keyframes float {
        0%,100%{ transform: translateY(0) translateX(0); opacity:0.3;}
        50%{ transform: translateY(-100px) translateX(50px); opacity:0.6;}
    }

    .heart, .candle {
        position: absolute;
        font-size: 20px;
        animation: floatHeart 8s infinite ease-in-out;
        opacity: 0;
    }
    @keyframes floatHeart {
        0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
        10% { opacity: 0.8; }
        90% { opacity: 0.8; }
        100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
    }

    .container { position: relative; z-index: 10; width: 100%; max-width: 1400px; display: flex; flex-direction: column; align-items: center; }
    .header { text-align: center; margin-bottom: 30px; }
    .header h1 {
        font-size: clamp(28px,6vw,56px);
        font-weight: 700;
        background: linear-gradient(135deg,#a855f7,#ec4899,#f97316);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 0 30px rgba(0, 0, 0, 0.733);
    }
    .subtitle { font-size: clamp(14px,3vw,20px); color:#e9d5ff; font-style: italic; margin-bottom: 10px; text-shadow: 0 0 10px rgba(168,85,247,0.3); }

    .message-box {
        background: rgba(20,10,30,0.6);
        border: 2px solid rgba(168,85,247,0.4);
        border-radius: 20px;
        padding: 25px;
        margin-bottom: 20px;
        backdrop-filter: blur(10px);
        box-shadow: 0 8px 32px rgba(168,85,247,0.3);
        max-width: 800px;
        line-height: 1.8;
    }

    #listenBtn {
        padding: 12px 25px;
        border-radius: 50px;
        border: 2px solid rgba(168,85,247,0.6);
        background: linear-gradient(135deg, rgba(168,85,247,0.3), rgba(236,72,153,0.3));
        color: #f3e8ff;
        cursor: pointer;
        font-weight: 600;
        margin-bottom: 30px;
        transition: all 0.3s ease;
    }
    #listenBtn:hover {
        background: linear-gradient(135deg, rgba(168,85,247,0.5), rgba(236,72,153,0.5));
        border-color: rgba(236,72,153,0.8);
    }

    .carousel-container { position: relative; width: 100%; height: 500px; display: flex; align-items: center; justify-content: center; perspective: 1200px; margin-bottom: 40px; }
    .carousel { position: relative; width: 100%; height: 100%; transform-style: preserve-3d; transition: transform 0.5s; }
    .carousel-item { position: absolute; width: clamp(180px,30vw,280px); height: clamp(240px,40vw,380px); left: 50%; top: 50%; transform-style: preserve-3d; transition: all 0.5s ease; }
    .photo-frame { width:100%; height:100%; border-radius:20px; overflow:hidden; padding:15px; background:linear-gradient(135deg,rgba(168,85,247,0.1),rgba(236,72,153,0.1)); border:2px solid rgba(168,85,247,0.5); box-shadow:0 20px 60px rgba(0,0,0,0.5),0 0 40px rgba(168,85,247,0.3), inset 0 0 20px rgba(168,85,247,0.1); }
    .photo { width:100%; height:100%; object-fit:cover; border-radius:12px; transition: transform 6s ease, opacity 6s ease; }
    .photo:hover { transform: scale(1.05); opacity: 0.95; }

</style>
</head>
<body>

<div class="background-images">
    <img src="https://picsum.photos/1200/800?random=1" class="bg1">
    <img src="https://picsum.photos/1200/800?random=2" class="bg2">
    <img src="https://picsum.photos/1200/800?random=3" class="bg3">
    <img src="https://picsum.photos/1200/800?random=4" class="bg4">
</div>


<div class="bg-particles" id="particles"></div>

<div class="container">
    <div class="header">
        <h1>✨ Happy Birthday My Everything ✨</h1>
        <p class="subtitle">To the one who means the world to me 💖💜</p>
    </div>

    <div class="message-box" id="message"></div>
    <button id="listenBtn">🔊 Listen to my message</button>

    <div class="carousel-container">
        <div class="carousel" id="carousel"></div>
    </div>
</div>

<script>
const messageText = ` 
💜💖 My dearest sister, my best friend, my heart, my universe 🌌✨💞.
No words can ever truly express how grateful I am for you. 
Your laughter brightens my world, your kindness inspires me every day, 
and your love fills every moment with magic. 

On your special day, I just want to remind you how much you mean to me. 
You are my strength, my safe place, and my forever favorite person. 

Happy Birthday, my dearest sister, my everything 💕💖💜. 
I love you to the moon 🌙 and back, to infinity and beyond ✨🌌💞.
`;

const messageBox = document.getElementById('message');
messageBox.innerHTML = messageText.replace(/\n/g, '<br>');

function removeEmojis(text) {
    return text.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|[\uD83C-\uDBFF\uDC00-\uDFFF]|\uFE0F)/g, '');
}

const listenBtn = document.getElementById('listenBtn');
const fullMessage = messageText.replace(/<br>/g, ' ');

function splitMessage(msg, wordsPerChunk = 250) {
    const words = msg.split(' ');
    const chunks = [];
    for (let i = 0; i < words.length; i += wordsPerChunk) {
        chunks.push(words.slice(i, i + wordsPerChunk).join(' '));
    }
    return chunks;
}

listenBtn.addEventListener('click', () => {
    const cleanMessage = removeEmojis(fullMessage);
    const chunks = splitMessage(cleanMessage);
    let index = 0;

    function speakNext() {
        if (index >= chunks.length) return;
        const utterance = new SpeechSynthesisUtterance(chunks[index]);
        utterance.rate = 0.9;
        utterance.pitch = 1;
        utterance.onend = () => {
            index++;
            speakNext();
        };
        window.speechSynthesis.speak(utterance);
    }

    window.speechSynthesis.cancel();
    speakNext();
});

const particlesContainer = document.getElementById('particles');
for (let i=0;i<20;i++){
    const particle=document.createElement('div');
    particle.className='particle';
    particle.style.width=Math.random()*80+20+'px';
    particle.style.height=particle.style.width;
    particle.style.left=Math.random()*100+'%';
    particle.style.top=Math.random()*100+'%';
    particle.style.animationDelay=Math.random()*10+'s';
    particlesContainer.appendChild(particle);
}

setInterval(()=>{
    const heart=document.createElement('div');
    heart.className='heart';
    heart.textContent=['💜','💕','💖','😘','🤗','🎉','🕯️'][Math.floor(Math.random()*7)];
    heart.style.left=Math.random()*100+'%';
    heart.style.animationDuration=(Math.random()*3+5)+'s';
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),8000);
},500);

// --- Updated Carousel with real images ---
const carousel = document.getElementById('carousel');
const totalPhotos = 12;
let currentRotation = 0;

const imageUrls = [
  "https://picsum.photos/id/1011/600/800",
  "https://picsum.photos/id/1015/600/800",
  "https://picsum.photos/id/1025/600/800",
  "https://picsum.photos/id/1035/600/800",
  "https://picsum.photos/id/1043/600/800",
  "https://picsum.photos/id/1052/600/800",
  "https://picsum.photos/id/1062/600/800",
  "https://picsum.photos/id/1074/600/800",
  "https://picsum.photos/id/1084/600/800",
  "https://picsum.photos/id/1094/600/800",
  "https://picsum.photos/id/1104/600/800",
  "https://picsum.photos/id/1114/600/800"
];

for (let i = 0; i < totalPhotos; i++) {
  const item = document.createElement('div');
  item.className = 'carousel-item';
  item.innerHTML = `
    <div class="photo-frame">
      <img class="photo" src="${imageUrls[i % imageUrls.length]}" alt="Memory ${i+1}">
    </div>
  `;
  carousel.appendChild(item);
}

function updateCarousel() {
  const items = document.querySelectorAll('.carousel-item');
  const radius = window.innerWidth < 768 ? 300 : 450;
  const angleStep = 360 / totalPhotos;
  items.forEach((item, index) => {
    const angle = (angleStep * index + currentRotation) * Math.PI / 280;
    const x = Math.sin(angle) * radius;
    const z = Math.cos(angle) * radius;
    const scale = (z + radius) / (radius * 2) * 0.7 + 0.3;
    const opacity = (z + radius) / (radius * 2) * 0.7 + 0.3;
    item.style.transform = `translate(-50%, -50%) translate3d(${x}px, 0, ${z}px) scale(${scale})`;
    item.style.opacity = opacity;
    item.style.zIndex = Math.floor(z);
  });
}

function rotateCarousel(deg) {
  currentRotation += deg;
  updateCarousel();
}

setInterval(() => rotateCarousel(0.5), 30);
updateCarousel();
window.addEventListener('resize', () => { setTimeout(updateCarousel, 250); });
</script>

</body>
</html>
=======
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday My Everything ✨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a0a1f 50%, #0f0a1a 100%);
            min-height: 100vh;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            padding: 20px;
        }

        /* Animated background particles */
        .bg-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            background: radial-gradient(circle, rgba(147, 51, 234, 0.6) 0%, transparent 70%);
            border-radius: 50%;
            animation: float 20s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) translateX(0); opacity: 0.3; }
            50% { transform: translateY(-100px) translateX(50px); opacity: 0.6; }
        }

        /* Floating hearts */
        .heart {
            position: absolute;
            font-size: 20px;
            animation: floatHeart 8s infinite ease-in-out;
            opacity: 0;
        }

        @keyframes floatHeart {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.8; }
            90% { opacity: 0.8; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }

        .container {
            position: relative;
            z-index: 10;
            width: 100%;
            max-width: 1400px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeInDown 1s ease-out;
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header h1 {
            font-size: clamp(28px, 6vw, 56px);
            font-weight: 700;
            background: linear-gradient(135deg, #a855f7, #ec4899, #f97316);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            letter-spacing: 2px;
            text-shadow: 0 0 30px rgba(168, 85, 247, 0.5);
        }

        .subtitle {
            font-size: clamp(14px, 3vw, 20px);
            color: #e9d5ff;
            font-style: italic;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(168, 85, 247, 0.3);
        }

        .message-box {
            background: rgba(20, 10, 30, 0.6);
            border: 2px solid rgba(168, 85, 247, 0.4);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(168, 85, 247, 0.3);
            animation: fadeIn 1.5s ease-out;
            max-width: 800px;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .message-box p {
            color: #f3e8ff;
            line-height: 1.8;
            font-size: clamp(14px, 2.5vw, 18px);
            text-align: center;
            margin-bottom: 15px;
        }

        .message-box p:last-child {
            margin-bottom: 0;
        }

        .highlight {
            color: #e879f9;
            font-weight: 600;
            text-shadow: 0 0 10px rgba(232, 121, 249, 0.5);
        }

        /* Carousel Container */
        .carousel-container {
            position: relative;
            width: 100%;
            height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            perspective: 1200px;
            margin-bottom: 40px;
        }

        .carousel {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .carousel-item {
            position: absolute;
            width: clamp(180px, 30vw, 280px);
            height: clamp(240px, 40vw, 380px);
            left: 50%;
            top: 50%;
            transform-style: preserve-3d;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: grab;
        }

        .carousel-item:active {
            cursor: grabbing;
        }

        .photo-frame {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(236, 72, 153, 0.1));
            border-radius: 20px;
            padding: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5),
                        0 0 40px rgba(168, 85, 247, 0.3),
                        inset 0 0 20px rgba(168, 85, 247, 0.1);
            border: 2px solid rgba(168, 85, 247, 0.5);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .photo-frame::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(168, 85, 247, 0.3), transparent);
            transform: rotate(45deg);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0%, 100% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            50% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .photo-frame:hover {
            border-color: rgba(236, 72, 153, 0.8);
            box-shadow: 0 25px 70px rgba(0, 0, 0, 0.6),
                        0 0 60px rgba(236, 72, 153, 0.5),
                        inset 0 0 30px rgba(236, 72, 153, 0.2);
            transform: scale(1.05);
        }

        .photo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 12px;
            background: linear-gradient(135deg, #4c1d95, #7c3aed, #a855f7);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: clamp(40px, 8vw, 80px);
            color: rgba(255, 255, 255, 0.8);
            font-weight: bold;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .controls {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.3), rgba(236, 72, 153, 0.3));
            border: 2px solid rgba(168, 85, 247, 0.6);
            border-radius: 50px;
            color: #f3e8ff;
            font-size: clamp(14px, 2.5vw, 16px);
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(168, 85, 247, 0.3);
            font-weight: 600;
        }

        .btn:hover {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.5), rgba(236, 72, 153, 0.5));
            border-color: rgba(236, 72, 153, 0.8);
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(236, 72, 153, 0.5);
        }

        .btn:active {
            transform: translateY(0);
        }

        .info {
            text-align: center;
            color: #e9d5ff;
            font-size: clamp(13px, 2vw, 15px);
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        .footer-message {
            text-align: center;
            color: #f3e8ff;
            font-size: clamp(16px, 3vw, 22px);
            font-weight: 600;
            background: linear-gradient(135deg, #a855f7, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: fadeIn 2s ease-out;
            padding: 20px;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .carousel-container {
                height: 400px;
            }

            .message-box {
                padding: 20px;
                margin-bottom: 30px;
            }

            .controls {
                gap: 10px;
            }

            .btn {
                padding: 10px 20px;
            }
        }

        @media (max-width: 480px) {
            .carousel-container {
                height: 350px;
            }

            body {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="bg-particles" id="particles"></div>

    <div class="container">
        <div class="header">
            <h1>✨ Happy Birthday My Everything ✨</h1>
            <p class="subtitle">To the one who means the world to me</p>
        </div>

        <div class="message-box">
            <p>You are not just my <span class="highlight">sister</span>, but my <span class="highlight">best friend</span>, my <span class="highlight">confidant</span>, and my <span class="highlight">entire universe</span>.</p>
            <p>Words fall short when I try to express what you mean to me. You are the light in my darkest days, the laughter in my silence, and the warmth in every moment we share.</p>
            <p>My love for you is beyond infinity - it's something that no dictionary can define, no words can capture, and no measure can contain.</p>
            <p>Thank you for being <span class="highlight">YOU</span> - irreplaceable, unforgettable, and absolutely amazing.</p>
            <p style="margin-top: 20px; font-size: clamp(16px, 3vw, 20px);">💜 May this year bring you endless joy, dreams come true, and all the happiness you deserve 💜</p>
        </div>

        <div class="info">
            🎯 Drag or use controls to rotate • 📱 Swipe on mobile
        </div>

        <div class="carousel-container">
            <div class="carousel" id="carousel"></div>
        </div>

        <div class="controls">
            <button class="btn" id="prevBtn">← Previous</button>
            <button class="btn" id="autoBtn">⏸️ Pause</button>
            <button class="btn" id="nextBtn">Next →</button>
        </div>

        <div class="footer-message">
            Forever grateful to have you in my life 💕
        </div>
    </div>

    <script>
        // Create particles
        const particlesContainer = document.getElementById('particles');
        for (let i = 0; i < 15; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.width = Math.random() * 100 + 50 + 'px';
            particle.style.height = particle.style.width;
            particle.style.left = Math.random() * 100 + '%';
            particle.style.top = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 10 + 's';
            particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
            particlesContainer.appendChild(particle);
        }

        // Create floating hearts
        setInterval(() => {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.textContent = ['💜', '💕', '💖', '✨', '🎂', '🎉'][Math.floor(Math.random() * 6)];
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDuration = (Math.random() * 3 + 5) + 's';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 8000);
        }, 800);

        // Carousel Logic
        const carousel = document.getElementById('carousel');
        const totalPhotos = 20;
        let currentRotation = 0;
        let isAutoRotate = true;
        let autoRotateInterval;
        let isDragging = false;
        let startX = 0;
        let startRotation = 0;

        // Create carousel items
        for (let i = 0; i < totalPhotos; i++) {
            const item = document.createElement('div');
            item.className = 'carousel-item';
            item.innerHTML = `
                <div class="photo-frame">
                    <div class="photo">${i + 1}</div>
                </div>
            `;
            carousel.appendChild(item);
        }

        function updateCarousel() {
            const items = document.querySelectorAll('.carousel-item');
            const radius = window.innerWidth < 768 ? 300 : 450;
            const angleStep = 360 / totalPhotos;

            items.forEach((item, index) => {
                const angle = (angleStep * index + currentRotation) * Math.PI / 180;
                const x = Math.sin(angle) * radius;
                const z = Math.cos(angle) * radius;
                const scale = (z + radius) / (radius * 2) * 0.7 + 0.3;
                const opacity = (z + radius) / (radius * 2) * 0.7 + 0.3;

                item.style.transform = `
                    translate(-50%, -50%)
                    translate3d(${x}px, 0, ${z}px)
                    scale(${scale})
                `;
                item.style.opacity = opacity;
                item.style.zIndex = Math.floor(z);
            });
        }

        function rotateCarousel(degrees) {
            currentRotation += degrees;
            updateCarousel();
        }

        function startAutoRotate() {
            autoRotateInterval = setInterval(() => {
                rotateCarousel(0.5);
            }, 30);
        }

        function stopAutoRotate() {
            clearInterval(autoRotateInterval);
        }

        // Controls
        document.getElementById('prevBtn').addEventListener('click', () => {
            rotateCarousel(-18);
        });

        document.getElementById('nextBtn').addEventListener('click', () => {
            rotateCarousel(18);
        });

        document.getElementById('autoBtn').addEventListener('click', function() {
            isAutoRotate = !isAutoRotate;
            if (isAutoRotate) {
                this.textContent = '⏸️ Pause';
                startAutoRotate();
            } else {
                this.textContent = '▶️ Play';
                stopAutoRotate();
            }
        });

        // Mouse drag
        carousel.addEventListener('mousedown', (e) => {
            isDragging = true;
            startX = e.clientX;
            startRotation = currentRotation;
            stopAutoRotate();
            carousel.style.cursor = 'grabbing';
        });

        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            const deltaX = e.clientX - startX;
            currentRotation = startRotation + deltaX * 0.5;
            updateCarousel();
        });

        document.addEventListener('mouseup', () => {
            if (isDragging) {
                isDragging = false;
                carousel.style.cursor = 'grab';
                if (isAutoRotate) startAutoRotate();
            }
        });

        // Touch events
        let touchStartX = 0;
        let touchStartRotation = 0;

        carousel.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
            touchStartRotation = currentRotation;
            stopAutoRotate();
        });

        carousel.addEventListener('touchmove', (e) => {
            e.preventDefault();
            const deltaX = e.touches[0].clientX - touchStartX;
            currentRotation = touchStartRotation + deltaX * 0.5;
            updateCarousel();
        });

        carousel.addEventListener('touchend', () => {
            if (isAutoRotate) startAutoRotate();
        });

        // Initialize
        updateCarousel();
        startAutoRotate();

        // Handle window resize
        let resizeTimer;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(() => {
                updateCarousel();
            }, 250);
        });
    </script>
</body>
</html>
>>>>>>> ecb2bb06eb6ea032a9cb64127f510f38a1ae7429
